---
layout: post
title: 'os'
date: 2024-10-15 08:21:00 +0800
categories: jekyll update
---

## 安装包

* dpkg 是底层工具，直接操作 .deb 文件。
* apt 是高级工具，提供了依赖管理和网络安装功能。

```sh
  sudo dpkg -i /PATH/TO/VSCODE.deb
  sudo apt install package_name
```

## source

更新shell
> Mac 每次都要执行source ~/.bash_profile 配置的环境变量才生效
>> 自己在 ~/.bash_profile 中配置环境变量, 可是每次重启终端后配置的不生效.需要重新执行 : $source ~/.bash_profile
>> 发现zsh加载的是 ~/.zshrc文件，而 ‘.zshrc’ 文件中并没有定义任务环境变量。
>> 在~/.zshrc文件最后，增加一行：
>> source ~/.bash_profile

## 软链

```bash
sudo ln -s /opt/nodejs/nodejs/bin/node /usr/local/bin/node
```

## 打开文本编辑器

```
gedit 
```

## 查看软件安装目录

```
which softwareName
```

## 查找文件

```
mdfind -name nginx.conf
```

## if [ -f ~/.bashrc ]; then . ~/.bashrc; fi

这段命令是一个常见的 Bash 脚本片段，功能是检查当前用户的 ~/.bashrc 文件是否存在。如果存在，就执行（source）这个文件。
**代码解析**

```bash
if [ -f ~/.bashrc ]; then
  . ~/.bashrc
fi
```

1. [ -f ~/.bashrc ]:

* -f 是一个文件测试选项，用于检查 ~/.bashrc 是否存在并且是一个普通文件（非目录或设备文件）。
* ~ 代表当前用户的主目录，例如 /home/username。

2. . ~/.bashrc:

* 点号（.）是 source 命令的简写，用于在当前 shell 环境中执行 ~/.bashrc 文件的内容。
* 执行 . ~/.bashrc 会加载这个文件中的配置，例如别名、环境变量和其他 shell 设置。
fi:

3. 这是 if 条件的结束标志。

* 在安装git的路径下查找是否存在.bash_profile文件，或新建.bash_profile文件，并加入以下代码

```sh
if [ -f ~/.bashrc ]; then . ~/.bashrc; fi
```

* 在同一文件路径查找或新建.bashrc文件，并加入如下代码

```
export NVS_HOME=$LOCALAPPDATA/nvs
. $NVS_HOME/nvs.sh
```

在我的环境中，$LOCALAPPDATA=C:/Users/lipei/AppData/Local

> tips: source .bashrc

## ssh-copy-id -i ~/.ssh/id_rsa.pub

用于将本地的公钥文件（通常位于 ~/.ssh/id_rsa.pub）复制到远程服务器的 ~/.ssh/authorized_keys 文件中，从而实现免密码登录。

```bash
ssh-copy-id -i ~/.ssh/id_rsa.pub user@remote-host
```

**安装ssh-copy-id**

```bash
brew install ssh-copy-id
```

> `命令 cat ~/.ssh/id_rsa.pub | ssh supos@XXXX 'cat >> .ssh/authorized_keys' 是一种手动添加 SSH 公钥到远程服务器的方式，功能类似于 ssh-copy-id。`
