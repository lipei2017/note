---
layout: post
title: 'react'
date: 2022-06-09 09:40:00 +0800
categories: jekyll update
---

### useEffect 依赖值 存在于异步操作的回调里，可能不是最新的值。

解决方案：为依赖设置 ref 已在回调时获取最新值

```js
const [selected, setSelected] = useState<Selected[]>([]);
const selectedRef = useRef<Selected[]>();
setSelected(list);
selectedRef.current = list;
```
